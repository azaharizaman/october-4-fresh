{
  "$schema": "https://schema.railpack.com",
  "caches": {
    "apt": {
      "directory": "/var/cache/apt",
      "type": "locked"
    },
    "apt-lists": {
      "directory": "/var/lib/apt/lists",
      "type": "locked"
    },
    "composer": {
      "directory": "/root/.composer/cache",
      "type": "shared"
    },
    "node-modules": {
      "directory": "/app/node_modules/.cache",
      "type": "shared"
    },
    "npm": {
      "directory": "/root/.npm",
      "type": "shared"
    },
    "npm-install": {
      "directory": "/root/.npm",
      "type": "shared"
    }
  },
  "deploy": {
    "base": {
      "step": "install:composer"
    },
    "inputs": [
      {
        "exclude": [
          "node_modules",
          ".git",
          ".env.example",
          "tests",
          "phpunit.xml",
          "phpcs.xml",
          "README.md",
          "CHANGELOG.md"
        ],
        "include": [
          "."
        ],
        "step": "build"
      },
      {
        "include": [
          "."
        ],
        "step": "build"
      },
      {
        "include": [
          "."
        ],
        "step": "install:composer"
      }
    ],
    "startCommand": "php artisan serve --host=0.0.0.0 --port=$PORT",
    "variables": {
      "APP_DEBUG": "false",
      "APP_ENV": "production",
      "CACHE_STORE": "redis",
      "CMS_ASSET_CACHE": "true",
      "CMS_ROUTE_CACHE": "true",
      "LOG_CHANNEL": "stderr",
      "QUEUE_CONNECTION": "redis",
      "SESSION_DRIVER": "redis"
    }
  },
  "steps": [
    {
      "caches": [
        "apt",
        "apt-lists"
      ],
      "commands": [
        {
          "cmd": "sh -c 'apt-get update \u0026\u0026 apt-get install -y curl git unzip zip'",
          "customName": "install apt packages: curl git unzip zip"
        }
      ],
      "inputs": [
        {
          "image": "ghcr.io/railwayapp/railpack-builder:latest"
        }
      ],
      "name": "packages:apt:build"
    },
    {
      "assets": {
        "mise.toml": "[tools]\n  [tools.node]\n    version = \"20.19.5\"\n"
      },
      "commands": [
        {
          "path": "/mise/shims"
        },
        {
          "customName": "create mise config",
          "name": "mise.toml",
          "path": "/etc/mise/config.toml"
        },
        {
          "cmd": "sh -c 'mise trust -a \u0026\u0026 mise install'",
          "customName": "install mise packages: node"
        }
      ],
      "inputs": [
        {
          "step": "packages:apt:build"
        }
      ],
      "name": "packages:mise",
      "variables": {
        "MISE_CACHE_DIR": "/mise/cache",
        "MISE_CONFIG_DIR": "/mise",
        "MISE_DATA_DIR": "/mise",
        "MISE_INSTALLS_DIR": "/mise/installs",
        "MISE_NODE_VERIFY": "false",
        "MISE_SHIMS_DIR": "/mise/shims"
      }
    },
    {
      "commands": [
        {
          "cmd": "sh -c 'apt-get update \u0026\u0026 apt-get install -y ca-certificates curl git unzip zip'",
          "customName": "install apt packages: ca-certificates curl git unzip zip"
        }
      ],
      "inputs": [
        {
          "image": "dunglas/frankenphp:php8.2.29-bookworm"
        }
      ],
      "name": "packages:image"
    },
    {
      "assets": {
        "Caddyfile": "{\n\tadmin off\n\tpersist_config off\n\tauto_https off\n\n  {$CADDY_GLOBAL_OPTIONS}\n\n  log {\n    format json\n    output stderr\n    level DEBUG\n  }\n\n\tfrankenphp {\n\t\t{$FRANKENPHP_CONFIG}\n\t}\n}\n\n{$CADDY_EXTRA_CONFIG}\n\n:{$PORT:80} {\n  \n    root * /app/public\n  \n\n\tencode zstd br gzip\n\n\tfile_server {\n\t\thide .git\n\t\thide .env*\n\t}\n\n\t{$CADDY_SERVER_EXTRA_DIRECTIVES}\n\n\tphp_server\n}\n",
        "php.ini": ";; Based on https://github.com/php/php-src/blob/master/php.ini-production\n\n[PHP]\nengine = On\nshort_open_tag = Off\nprecision = 14\noutput_buffering = 4096\nzlib.output_compression = Off\nimplicit_flush = Off\nunserialize_callback_func =\nserialize_precision = -1\ndisable_functions =\ndisable_classes =\nzend.enable_gc = On\nzend.exception_ignore_args = On\nzend.exception_string_param_max_len = 0\nexpose_php = On\nmax_execution_time = 30\nmax_input_time = 60\nmemory_limit = -1\nerror_reporting = E_ALL \u0026 ~E_DEPRECATED \u0026 ~E_STRICT\ndisplay_errors = Off\ndisplay_startup_errors = Off\nlog_errors = On\nignore_repeated_errors = Off\nignore_repeated_source = Off\nreport_memleaks = On\nvariables_order = \"GPCS\"\nrequest_order = \"GP\"\nregister_argc_argv = Off\nauto_globals_jit = On\npost_max_size = 0\nauto_prepend_file =\nauto_append_file =\ndefault_mimetype = \"text/html\"\ndefault_charset = \"UTF-8\"\ndoc_root =\nuser_dir =\nenable_dl = Off\nfile_uploads = On\nupload_max_filesize = 0\nmax_file_uploads = 20\nallow_url_fopen = On\nallow_url_include = Off\ndefault_socket_timeout = 60\nSMTP = localhost\nsmtp_port = 25\nmail.add_x_header = Off\nmail.mixed_lf_and_crlf = Off\nodbc.allow_persistent = On\nodbc.check_persistent = On\nodbc.max_persistent = -1\nodbc.max_links = -1\nodbc.defaultlrl = 4096\nodbc.defaultbinmode = 1\nmysqli.max_persistent = -1\nmysqli.allow_persistent = On\nmysqli.max_links = -1\nmysqli.default_port = 3306\nmysqli.default_socket =\nmysqli.default_host =\nmysqli.default_user =\nmysqli.default_pw =\nmysqlnd.collect_statistics = On\nmysqlnd.collect_memory_statistics = Off\npgsql.allow_persistent = On\npgsql.auto_reset_persistent = Off\npgsql.max_persistent = -1\npgsql.max_links = -1\npgsql.ignore_notice = 0\npgsql.log_notice = 0\nbcmath.scale = 0\nsession.save_handler = files\nsession.use_strict_mode = 0\nsession.use_cookies = 1\nsession.use_only_cookies = 1\nsession.name = PHPSESSID\nsession.auto_start = 0\nsession.cookie_lifetime = 0\nsession.cookie_path = /\nsession.cookie_domain =\nsession.cookie_httponly =\nsession.cookie_samesite =\nsession.serialize_handler = php\nsession.gc_probability = 1\nsession.gc_divisor = 1000\nsession.gc_maxlifetime = 1440\nsession.cache_limiter = nocache\nsession.cache_expire = 180\nsession.use_trans_sid = 0\nsession.sid_length = 26\nsession.trans_sid_tags = \"a=href,area=href,frame=src,form=\"\nsession.sid_bits_per_character = 5\nzend.assertions = -1\ntidy.clean_output = Off\nsoap.wsdl_cache_enabled = 1\nsoap.wsdl_cache_dir = \"/tmp\"\nsoap.wsdl_cache_ttl = 86400\nsoap.wsdl_cache_limit = 5\nldap.max_links = -1\n\n[Pdo_mysql]\npdo_mysql.default_socket =\n",
        "start-container.sh": "#!/bin/bash\n\nset -e\n\nif [ \"$IS_LARAVEL\" = \"true\" ]; then\n  if [ \"$RAILPACK_SKIP_MIGRATIONS\" != \"true\" ]; then\n    # Run migrations and seeding\n    echo \"Running migrations and seeding database ...\"\n    php artisan migrate --force\n  fi\n\n  php artisan storage:link\n  php artisan optimize:clear\n  php artisan optimize\n\n  echo \"Starting Laravel server ...\"\nfi\n\n# Start the FrankenPHP server\ndocker-php-entrypoint --config /Caddyfile --adapter caddyfile 2\u003e\u00261\n"
      },
      "commands": [
        {
          "cmd": "mkdir -p /usr/local/etc/php/conf.d"
        },
        {
          "cmd": "mkdir -p /conf.d/"
        },
        {
          "name": "php.ini",
          "path": "/usr/local/etc/php/conf.d/php.ini"
        },
        {
          "name": "Caddyfile",
          "path": "/Caddyfile"
        },
        {
          "customName": "create start container script",
          "mode": 493,
          "name": "start-container.sh",
          "path": "/start-container.sh"
        }
      ],
      "inputs": [
        {
          "step": "packages:image"
        }
      ],
      "name": "prepare",
      "variables": {
        "APP_DEBUG": "false",
        "APP_ENV": "production",
        "APP_LOCALE": "en",
        "IS_LARAVEL": "true",
        "LOG_CHANNEL": "stderr",
        "LOG_LEVEL": "debug",
        "OCTANE_SERVER": "frankenphp",
        "PHP_INI_DIR": "/usr/local/etc/php",
        "SERVER_NAME": ":80"
      }
    },
    {
      "caches": [
        "apt",
        "apt-lists"
      ],
      "commands": [
        {
          "cmd": "install-php-extensions ctype curl dom fileinfo filter hash mbstring openssl pcre pdo session tokenizer xml redis"
        }
      ],
      "inputs": [
        {
          "step": "prepare"
        }
      ],
      "name": "extensions"
    },
    {
      "caches": [
        "composer"
      ],
      "commands": [
        {
          "dest": "/usr/bin/composer",
          "image": "composer:latest",
          "src": "/usr/bin/composer"
        },
        {
          "dest": "composer.json",
          "src": "composer.json"
        },
        {
          "dest": "modules/backend/composer.json",
          "src": "modules/backend/composer.json"
        },
        {
          "dest": "modules/cms/composer.json",
          "src": "modules/cms/composer.json"
        },
        {
          "dest": "modules/dashboard/composer.json",
          "src": "modules/dashboard/composer.json"
        },
        {
          "dest": "modules/editor/composer.json",
          "src": "modules/editor/composer.json"
        },
        {
          "dest": "modules/media/composer.json",
          "src": "modules/media/composer.json"
        },
        {
          "dest": "modules/system/composer.json",
          "src": "modules/system/composer.json"
        },
        {
          "dest": "modules/tailor/composer.json",
          "src": "modules/tailor/composer.json"
        },
        {
          "dest": "node_modules/dropzone/composer.json",
          "src": "node_modules/dropzone/composer.json"
        },
        {
          "dest": "node_modules/moment-timezone/composer.json",
          "src": "node_modules/moment-timezone/composer.json"
        },
        {
          "dest": "plugins/october/demo/composer.json",
          "src": "plugins/october/demo/composer.json"
        },
        {
          "dest": "themes/demo/composer.json",
          "src": "themes/demo/composer.json"
        },
        {
          "dest": "vendor/brick/math/composer.json",
          "src": "vendor/brick/math/composer.json"
        },
        {
          "dest": "vendor/carbonphp/carbon-doctrine-types/composer.json",
          "src": "vendor/carbonphp/carbon-doctrine-types/composer.json"
        },
        {
          "dest": "vendor/composer/ca-bundle/composer.json",
          "src": "vendor/composer/ca-bundle/composer.json"
        },
        {
          "dest": "vendor/composer/class-map-generator/composer.json",
          "src": "vendor/composer/class-map-generator/composer.json"
        },
        {
          "dest": "vendor/composer/composer/composer.json",
          "src": "vendor/composer/composer/composer.json"
        },
        {
          "dest": "vendor/composer/installers/composer.json",
          "src": "vendor/composer/installers/composer.json"
        },
        {
          "dest": "vendor/composer/metadata-minifier/composer.json",
          "src": "vendor/composer/metadata-minifier/composer.json"
        },
        {
          "dest": "vendor/composer/pcre/composer.json",
          "src": "vendor/composer/pcre/composer.json"
        },
        {
          "dest": "vendor/composer/semver/composer.json",
          "src": "vendor/composer/semver/composer.json"
        },
        {
          "dest": "vendor/composer/spdx-licenses/composer.json",
          "src": "vendor/composer/spdx-licenses/composer.json"
        },
        {
          "dest": "vendor/composer/xdebug-handler/composer.json",
          "src": "vendor/composer/xdebug-handler/composer.json"
        },
        {
          "dest": "vendor/dflydev/dot-access-data/composer.json",
          "src": "vendor/dflydev/dot-access-data/composer.json"
        },
        {
          "dest": "vendor/doctrine/dbal/composer.json",
          "src": "vendor/doctrine/dbal/composer.json"
        },
        {
          "dest": "vendor/doctrine/deprecations/composer.json",
          "src": "vendor/doctrine/deprecations/composer.json"
        },
        {
          "dest": "vendor/doctrine/event-manager/composer.json",
          "src": "vendor/doctrine/event-manager/composer.json"
        },
        {
          "dest": "vendor/doctrine/inflector/composer.json",
          "src": "vendor/doctrine/inflector/composer.json"
        },
        {
          "dest": "vendor/doctrine/instantiator/composer.json",
          "src": "vendor/doctrine/instantiator/composer.json"
        },
        {
          "dest": "vendor/doctrine/lexer/composer.json",
          "src": "vendor/doctrine/lexer/composer.json"
        },
        {
          "dest": "vendor/dragonmantank/cron-expression/composer.json",
          "src": "vendor/dragonmantank/cron-expression/composer.json"
        },
        {
          "dest": "vendor/egulias/email-validator/composer.json",
          "src": "vendor/egulias/email-validator/composer.json"
        },
        {
          "dest": "vendor/fruitcake/php-cors/composer.json",
          "src": "vendor/fruitcake/php-cors/composer.json"
        },
        {
          "dest": "vendor/graham-campbell/result-type/composer.json",
          "src": "vendor/graham-campbell/result-type/composer.json"
        },
        {
          "dest": "vendor/guzzlehttp/guzzle/composer.json",
          "src": "vendor/guzzlehttp/guzzle/composer.json"
        },
        {
          "dest": "vendor/guzzlehttp/promises/composer.json",
          "src": "vendor/guzzlehttp/promises/composer.json"
        },
        {
          "dest": "vendor/guzzlehttp/psr7/composer.json",
          "src": "vendor/guzzlehttp/psr7/composer.json"
        },
        {
          "dest": "vendor/guzzlehttp/uri-template/composer.json",
          "src": "vendor/guzzlehttp/uri-template/composer.json"
        },
        {
          "dest": "vendor/justinrainbow/json-schema/composer.json",
          "src": "vendor/justinrainbow/json-schema/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/composer.json",
          "src": "vendor/laravel/framework/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Auth/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Auth/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Broadcasting/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Broadcasting/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Bus/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Bus/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Cache/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Cache/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Collections/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Collections/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Concurrency/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Concurrency/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Conditionable/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Conditionable/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Config/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Config/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Console/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Console/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Container/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Container/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Contracts/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Contracts/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Cookie/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Cookie/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Database/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Database/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Encryption/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Encryption/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Events/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Events/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Filesystem/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Filesystem/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Hashing/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Hashing/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Http/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Http/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/JsonSchema/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/JsonSchema/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Log/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Log/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Macroable/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Macroable/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Mail/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Mail/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Notifications/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Notifications/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Pagination/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Pagination/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Pipeline/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Pipeline/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Process/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Process/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Queue/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Queue/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Redis/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Redis/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Routing/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Routing/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Session/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Session/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Support/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Support/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Testing/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Testing/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Translation/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Translation/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Validation/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/Validation/composer.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/View/composer.json",
          "src": "vendor/laravel/framework/src/Illuminate/View/composer.json"
        },
        {
          "dest": "vendor/laravel/prompts/composer.json",
          "src": "vendor/laravel/prompts/composer.json"
        },
        {
          "dest": "vendor/laravel/serializable-closure/composer.json",
          "src": "vendor/laravel/serializable-closure/composer.json"
        },
        {
          "dest": "vendor/laravel/tinker/composer.json",
          "src": "vendor/laravel/tinker/composer.json"
        },
        {
          "dest": "vendor/league/commonmark/composer.json",
          "src": "vendor/league/commonmark/composer.json"
        },
        {
          "dest": "vendor/league/config/composer.json",
          "src": "vendor/league/config/composer.json"
        },
        {
          "dest": "vendor/league/csv/composer.json",
          "src": "vendor/league/csv/composer.json"
        },
        {
          "dest": "vendor/league/flysystem/composer.json",
          "src": "vendor/league/flysystem/composer.json"
        },
        {
          "dest": "vendor/league/flysystem-local/composer.json",
          "src": "vendor/league/flysystem-local/composer.json"
        },
        {
          "dest": "vendor/league/mime-type-detection/composer.json",
          "src": "vendor/league/mime-type-detection/composer.json"
        },
        {
          "dest": "vendor/league/uri/composer.json",
          "src": "vendor/league/uri/composer.json"
        },
        {
          "dest": "vendor/league/uri-interfaces/composer.json",
          "src": "vendor/league/uri-interfaces/composer.json"
        },
        {
          "dest": "vendor/linkorb/jsmin-php/composer.json",
          "src": "vendor/linkorb/jsmin-php/composer.json"
        },
        {
          "dest": "vendor/marc-mabe/php-enum/composer.json",
          "src": "vendor/marc-mabe/php-enum/composer.json"
        },
        {
          "dest": "vendor/monolog/monolog/composer.json",
          "src": "vendor/monolog/monolog/composer.json"
        },
        {
          "dest": "vendor/myclabs/deep-copy/composer.json",
          "src": "vendor/myclabs/deep-copy/composer.json"
        },
        {
          "dest": "vendor/nesbot/carbon/composer.json",
          "src": "vendor/nesbot/carbon/composer.json"
        },
        {
          "dest": "vendor/nette/schema/composer.json",
          "src": "vendor/nette/schema/composer.json"
        },
        {
          "dest": "vendor/nette/utils/composer.json",
          "src": "vendor/nette/utils/composer.json"
        },
        {
          "dest": "vendor/nikic/php-parser/composer.json",
          "src": "vendor/nikic/php-parser/composer.json"
        },
        {
          "dest": "vendor/nunomaduro/termwind/composer.json",
          "src": "vendor/nunomaduro/termwind/composer.json"
        },
        {
          "dest": "vendor/october/all/composer.json",
          "src": "vendor/october/all/composer.json"
        },
        {
          "dest": "vendor/october/rain/composer.json",
          "src": "vendor/october/rain/composer.json"
        },
        {
          "dest": "vendor/phar-io/manifest/composer.json",
          "src": "vendor/phar-io/manifest/composer.json"
        },
        {
          "dest": "vendor/phar-io/version/composer.json",
          "src": "vendor/phar-io/version/composer.json"
        },
        {
          "dest": "vendor/phpoption/phpoption/composer.json",
          "src": "vendor/phpoption/phpoption/composer.json"
        },
        {
          "dest": "vendor/phpunit/php-code-coverage/composer.json",
          "src": "vendor/phpunit/php-code-coverage/composer.json"
        },
        {
          "dest": "vendor/phpunit/php-file-iterator/composer.json",
          "src": "vendor/phpunit/php-file-iterator/composer.json"
        },
        {
          "dest": "vendor/phpunit/php-invoker/composer.json",
          "src": "vendor/phpunit/php-invoker/composer.json"
        },
        {
          "dest": "vendor/phpunit/php-text-template/composer.json",
          "src": "vendor/phpunit/php-text-template/composer.json"
        },
        {
          "dest": "vendor/phpunit/php-timer/composer.json",
          "src": "vendor/phpunit/php-timer/composer.json"
        },
        {
          "dest": "vendor/phpunit/phpunit/composer.json",
          "src": "vendor/phpunit/phpunit/composer.json"
        },
        {
          "dest": "vendor/predis/predis/composer.json",
          "src": "vendor/predis/predis/composer.json"
        },
        {
          "dest": "vendor/psr/cache/composer.json",
          "src": "vendor/psr/cache/composer.json"
        },
        {
          "dest": "vendor/psr/clock/composer.json",
          "src": "vendor/psr/clock/composer.json"
        },
        {
          "dest": "vendor/psr/container/composer.json",
          "src": "vendor/psr/container/composer.json"
        },
        {
          "dest": "vendor/psr/event-dispatcher/composer.json",
          "src": "vendor/psr/event-dispatcher/composer.json"
        },
        {
          "dest": "vendor/psr/http-client/composer.json",
          "src": "vendor/psr/http-client/composer.json"
        },
        {
          "dest": "vendor/psr/http-factory/composer.json",
          "src": "vendor/psr/http-factory/composer.json"
        },
        {
          "dest": "vendor/psr/http-message/composer.json",
          "src": "vendor/psr/http-message/composer.json"
        },
        {
          "dest": "vendor/psr/log/composer.json",
          "src": "vendor/psr/log/composer.json"
        },
        {
          "dest": "vendor/psr/simple-cache/composer.json",
          "src": "vendor/psr/simple-cache/composer.json"
        },
        {
          "dest": "vendor/psy/psysh/composer.json",
          "src": "vendor/psy/psysh/composer.json"
        },
        {
          "dest": "vendor/ralouphie/getallheaders/composer.json",
          "src": "vendor/ralouphie/getallheaders/composer.json"
        },
        {
          "dest": "vendor/ramsey/collection/composer.json",
          "src": "vendor/ramsey/collection/composer.json"
        },
        {
          "dest": "vendor/ramsey/uuid/composer.json",
          "src": "vendor/ramsey/uuid/composer.json"
        },
        {
          "dest": "vendor/react/promise/composer.json",
          "src": "vendor/react/promise/composer.json"
        },
        {
          "dest": "vendor/scssphp/scssphp/composer.json",
          "src": "vendor/scssphp/scssphp/composer.json"
        },
        {
          "dest": "vendor/sebastian/cli-parser/composer.json",
          "src": "vendor/sebastian/cli-parser/composer.json"
        },
        {
          "dest": "vendor/sebastian/code-unit/composer.json",
          "src": "vendor/sebastian/code-unit/composer.json"
        },
        {
          "dest": "vendor/sebastian/code-unit-reverse-lookup/composer.json",
          "src": "vendor/sebastian/code-unit-reverse-lookup/composer.json"
        },
        {
          "dest": "vendor/sebastian/comparator/composer.json",
          "src": "vendor/sebastian/comparator/composer.json"
        },
        {
          "dest": "vendor/sebastian/complexity/composer.json",
          "src": "vendor/sebastian/complexity/composer.json"
        },
        {
          "dest": "vendor/sebastian/diff/composer.json",
          "src": "vendor/sebastian/diff/composer.json"
        },
        {
          "dest": "vendor/sebastian/environment/composer.json",
          "src": "vendor/sebastian/environment/composer.json"
        },
        {
          "dest": "vendor/sebastian/exporter/composer.json",
          "src": "vendor/sebastian/exporter/composer.json"
        },
        {
          "dest": "vendor/sebastian/global-state/composer.json",
          "src": "vendor/sebastian/global-state/composer.json"
        },
        {
          "dest": "vendor/sebastian/lines-of-code/composer.json",
          "src": "vendor/sebastian/lines-of-code/composer.json"
        },
        {
          "dest": "vendor/sebastian/object-enumerator/composer.json",
          "src": "vendor/sebastian/object-enumerator/composer.json"
        },
        {
          "dest": "vendor/sebastian/object-reflector/composer.json",
          "src": "vendor/sebastian/object-reflector/composer.json"
        },
        {
          "dest": "vendor/sebastian/recursion-context/composer.json",
          "src": "vendor/sebastian/recursion-context/composer.json"
        },
        {
          "dest": "vendor/sebastian/resource-operations/composer.json",
          "src": "vendor/sebastian/resource-operations/composer.json"
        },
        {
          "dest": "vendor/sebastian/type/composer.json",
          "src": "vendor/sebastian/type/composer.json"
        },
        {
          "dest": "vendor/sebastian/version/composer.json",
          "src": "vendor/sebastian/version/composer.json"
        },
        {
          "dest": "vendor/seld/jsonlint/composer.json",
          "src": "vendor/seld/jsonlint/composer.json"
        },
        {
          "dest": "vendor/seld/phar-utils/composer.json",
          "src": "vendor/seld/phar-utils/composer.json"
        },
        {
          "dest": "vendor/seld/signal-handler/composer.json",
          "src": "vendor/seld/signal-handler/composer.json"
        },
        {
          "dest": "vendor/squizlabs/php_codesniffer/composer.json",
          "src": "vendor/squizlabs/php_codesniffer/composer.json"
        },
        {
          "dest": "vendor/symfony/clock/composer.json",
          "src": "vendor/symfony/clock/composer.json"
        },
        {
          "dest": "vendor/symfony/console/composer.json",
          "src": "vendor/symfony/console/composer.json"
        },
        {
          "dest": "vendor/symfony/css-selector/composer.json",
          "src": "vendor/symfony/css-selector/composer.json"
        },
        {
          "dest": "vendor/symfony/deprecation-contracts/composer.json",
          "src": "vendor/symfony/deprecation-contracts/composer.json"
        },
        {
          "dest": "vendor/symfony/error-handler/composer.json",
          "src": "vendor/symfony/error-handler/composer.json"
        },
        {
          "dest": "vendor/symfony/event-dispatcher/composer.json",
          "src": "vendor/symfony/event-dispatcher/composer.json"
        },
        {
          "dest": "vendor/symfony/event-dispatcher-contracts/composer.json",
          "src": "vendor/symfony/event-dispatcher-contracts/composer.json"
        },
        {
          "dest": "vendor/symfony/filesystem/composer.json",
          "src": "vendor/symfony/filesystem/composer.json"
        },
        {
          "dest": "vendor/symfony/finder/composer.json",
          "src": "vendor/symfony/finder/composer.json"
        },
        {
          "dest": "vendor/symfony/http-foundation/composer.json",
          "src": "vendor/symfony/http-foundation/composer.json"
        },
        {
          "dest": "vendor/symfony/http-kernel/composer.json",
          "src": "vendor/symfony/http-kernel/composer.json"
        },
        {
          "dest": "vendor/symfony/mailer/composer.json",
          "src": "vendor/symfony/mailer/composer.json"
        },
        {
          "dest": "vendor/symfony/mime/composer.json",
          "src": "vendor/symfony/mime/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-ctype/composer.json",
          "src": "vendor/symfony/polyfill-ctype/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-intl-grapheme/composer.json",
          "src": "vendor/symfony/polyfill-intl-grapheme/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-intl-idn/composer.json",
          "src": "vendor/symfony/polyfill-intl-idn/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-intl-normalizer/composer.json",
          "src": "vendor/symfony/polyfill-intl-normalizer/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-mbstring/composer.json",
          "src": "vendor/symfony/polyfill-mbstring/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-php73/composer.json",
          "src": "vendor/symfony/polyfill-php73/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-php80/composer.json",
          "src": "vendor/symfony/polyfill-php80/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-php81/composer.json",
          "src": "vendor/symfony/polyfill-php81/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-php83/composer.json",
          "src": "vendor/symfony/polyfill-php83/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-php84/composer.json",
          "src": "vendor/symfony/polyfill-php84/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-php85/composer.json",
          "src": "vendor/symfony/polyfill-php85/composer.json"
        },
        {
          "dest": "vendor/symfony/polyfill-uuid/composer.json",
          "src": "vendor/symfony/polyfill-uuid/composer.json"
        },
        {
          "dest": "vendor/symfony/process/composer.json",
          "src": "vendor/symfony/process/composer.json"
        },
        {
          "dest": "vendor/symfony/routing/composer.json",
          "src": "vendor/symfony/routing/composer.json"
        },
        {
          "dest": "vendor/symfony/service-contracts/composer.json",
          "src": "vendor/symfony/service-contracts/composer.json"
        },
        {
          "dest": "vendor/symfony/string/composer.json",
          "src": "vendor/symfony/string/composer.json"
        },
        {
          "dest": "vendor/symfony/translation/composer.json",
          "src": "vendor/symfony/translation/composer.json"
        },
        {
          "dest": "vendor/symfony/translation-contracts/composer.json",
          "src": "vendor/symfony/translation-contracts/composer.json"
        },
        {
          "dest": "vendor/symfony/uid/composer.json",
          "src": "vendor/symfony/uid/composer.json"
        },
        {
          "dest": "vendor/symfony/var-dumper/composer.json",
          "src": "vendor/symfony/var-dumper/composer.json"
        },
        {
          "dest": "vendor/symfony/yaml/composer.json",
          "src": "vendor/symfony/yaml/composer.json"
        },
        {
          "dest": "vendor/theseer/tokenizer/composer.json",
          "src": "vendor/theseer/tokenizer/composer.json"
        },
        {
          "dest": "vendor/tijsverkoyen/css-to-inline-styles/composer.json",
          "src": "vendor/tijsverkoyen/css-to-inline-styles/composer.json"
        },
        {
          "dest": "vendor/twig/twig/composer.json",
          "src": "vendor/twig/twig/composer.json"
        },
        {
          "dest": "vendor/vlucas/phpdotenv/composer.json",
          "src": "vendor/vlucas/phpdotenv/composer.json"
        },
        {
          "dest": "vendor/voku/portable-ascii/composer.json",
          "src": "vendor/voku/portable-ascii/composer.json"
        },
        {
          "dest": "vendor/webmozart/assert/composer.json",
          "src": "vendor/webmozart/assert/composer.json"
        },
        {
          "dest": "vendor/webmozart/assert/tools/php-cs-fixer/composer.json",
          "src": "vendor/webmozart/assert/tools/php-cs-fixer/composer.json"
        },
        {
          "dest": "vendor/webmozart/assert/tools/phpunit/composer.json",
          "src": "vendor/webmozart/assert/tools/phpunit/composer.json"
        },
        {
          "dest": "vendor/webmozart/assert/tools/psalm/composer.json",
          "src": "vendor/webmozart/assert/tools/psalm/composer.json"
        },
        {
          "dest": "vendor/webmozart/assert/tools/roave-bc-check/composer.json",
          "src": "vendor/webmozart/assert/tools/roave-bc-check/composer.json"
        },
        {
          "dest": "composer.lock",
          "src": "composer.lock"
        },
        {
          "dest": "vendor/composer/composer/composer.lock",
          "src": "vendor/composer/composer/composer.lock"
        },
        {
          "dest": "vendor/phar-io/manifest/composer.lock",
          "src": "vendor/phar-io/manifest/composer.lock"
        },
        {
          "dest": "vendor/phpunit/phpunit/composer.lock",
          "src": "vendor/phpunit/phpunit/composer.lock"
        },
        {
          "dest": "vendor/seld/phar-utils/composer.lock",
          "src": "vendor/seld/phar-utils/composer.lock"
        },
        {
          "dest": "vendor/theseer/tokenizer/composer.lock",
          "src": "vendor/theseer/tokenizer/composer.lock"
        },
        {
          "dest": "vendor/webmozart/assert/tools/php-cs-fixer/composer.lock",
          "src": "vendor/webmozart/assert/tools/php-cs-fixer/composer.lock"
        },
        {
          "dest": "vendor/webmozart/assert/tools/phpunit/composer.lock",
          "src": "vendor/webmozart/assert/tools/phpunit/composer.lock"
        },
        {
          "dest": "vendor/webmozart/assert/tools/psalm/composer.lock",
          "src": "vendor/webmozart/assert/tools/psalm/composer.lock"
        },
        {
          "dest": "vendor/webmozart/assert/tools/roave-bc-check/composer.lock",
          "src": "vendor/webmozart/assert/tools/roave-bc-check/composer.lock"
        },
        {
          "dest": "artisan",
          "src": "artisan"
        },
        {
          "cmd": "composer config -vvv http-basic.gateway.octobercms.com \"$COMPOSER_HTTP_BASIC_GATEWAY_OCTOBERCMS_COM_USERNAME\" \"$COMPOSER_HTTP_BASIC_GATEWAY_OCTOBERCMS_COM_PASSWORD\"",
          "customName": "Configure OctoberCMS composer auth"
        },
        {
          "cmd": "composer install --optimize-autoloader --no-scripts --no-interaction"
        }
      ],
      "inputs": [
        {
          "step": "extensions"
        }
      ],
      "name": "install:composer",
      "variables": {
        "COMPOSER_CACHE_DIR": "/opt/cache/composer",
        "COMPOSER_FUND": "0"
      }
    },
    {
      "caches": [
        "npm-install"
      ],
      "commands": [
        {
          "path": "/app/node_modules/.bin"
        },
        {
          "cmd": "mkdir -p /app/node_modules/.cache"
        },
        {
          "dest": "package.json",
          "src": "package.json"
        },
        {
          "dest": "themes/demo/package.json",
          "src": "themes/demo/package.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Foundation/resources/exceptions/renderer/package.json",
          "src": "vendor/laravel/framework/src/Illuminate/Foundation/resources/exceptions/renderer/package.json"
        },
        {
          "dest": "package-lock.json",
          "src": "package-lock.json"
        },
        {
          "dest": "vendor/guzzlehttp/guzzle/package-lock.json",
          "src": "vendor/guzzlehttp/guzzle/package-lock.json"
        },
        {
          "dest": "vendor/laravel/framework/src/Illuminate/Foundation/resources/exceptions/renderer/package-lock.json",
          "src": "vendor/laravel/framework/src/Illuminate/Foundation/resources/exceptions/renderer/package-lock.json"
        },
        {
          "cmd": "npm ci"
        }
      ],
      "inputs": [
        {
          "step": "packages:mise"
        }
      ],
      "name": "install:node",
      "variables": {
        "CI": "true",
        "NODE_ENV": "production",
        "NPM_CONFIG_FUND": "false",
        "NPM_CONFIG_PRODUCTION": "false",
        "NPM_CONFIG_UPDATE_NOTIFIER": "false"
      }
    },
    {
      "caches": [
        "npm"
      ],
      "commands": [
        {
          "cmd": "npm run build",
          "customName": "Build frontend assets"
        },
        {
          "cmd": "php artisan config:cache",
          "customName": "Cache configuration"
        },
        {
          "cmd": "php artisan route:cache",
          "customName": "Cache routes"
        },
        {
          "cmd": "php artisan view:cache",
          "customName": "Cache views"
        }
      ],
      "inputs": [
        {
          "step": "install:composer"
        },
        {
          "include": [
            ".",
            "/mise/shims",
            "/mise/installs",
            "/usr/local/bin/mise",
            "/etc/mise/config.toml",
            "/root/.local/state/mise"
          ],
          "step": "install:node"
        },
        {
          "include": [
            "."
          ],
          "local": true
        }
      ],
      "name": "build",
      "secrets": [
        "*"
      ]
    }
  ]
}